<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /api/
  
  # Route all requests to index.php
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule>

<IfModule mod_php.c>
  php_value upload_max_filesize 50M
  php_value post_max_size 50M
  php_value max_execution_time 300
  php_value max_input_time 300
</IfModule>

# Deny access to sensitive files
<FilesMatch "^\.">
  Order allow,deny
  Deny from all
</FilesMatch>

<Files ".env">
  Order allow,deny
  Deny from all
</Files>

<Files "composer.json">
  Order allow,deny
  Deny from all
</Files>

<Files "composer.lock">
  Order allow,deny
  Deny from all
</Files>
